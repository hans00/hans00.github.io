<!DOCTYPE html><html><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>我的 home lab | Hans&#x27; Blog</title>
<style>*,::backdrop,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:initial}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]:where(:not([hidden=until-found])){display:none}.container{padding-left:1rem;padding-right:1rem;width:100%}@media(min-width:640px){.container{max-width:640px;padding-left:2rem;padding-right:2rem}}@media(min-width:768px){.container{max-width:768px}}@media(min-width:1024px){.container{max-width:1024px;padding-left:4rem;padding-right:4rem}}@media(min-width:1280px){.container{max-width:1280px;padding-left:5rem;padding-right:5rem}}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}.sticky{position:sticky}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-bottom:.25rem;margin-top:.25rem}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-4{margin-bottom:1rem;margin-top:1rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:.5rem}.mr-1{margin-right:.25rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.h-48{height:12rem}.h-auto{height:auto}.w-1\/3{width:33.333333%}.w-2\/3{width:66.666667%}.w-full{width:100%}.max-w-full{max-width:100%}.max-w-none{max-width:none}.max-w-sm{max-width:24rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.overflow-hidden{overflow:hidden}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-l-none{border-bottom-left-radius:0;border-top-left-radius:0}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-0{border-bottom-width:0}.border-l-0{border-left-width:0}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity,1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1))}.object-cover{object-fit:cover}.p-4{padding:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.pb-16{padding-bottom:4rem}.pb-3{padding-bottom:.75rem}.pl-2{padding-left:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity,1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity,1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity,1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity,1))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.hover\:text-blue-800:hover{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity,1))}.hover\:underline:hover{text-decoration-line:underline}@media(min-width:768px){.md\:flex{display:flex}}</style>
<style>:host,:root{--fa-font-solid:normal 900 1em/1 "Font Awesome 7 Free";--fa-font-regular:normal 400 1em/1 "Font Awesome 7 Free";--fa-font-light:normal 300 1em/1 "Font Awesome 7 Pro";--fa-font-thin:normal 100 1em/1 "Font Awesome 7 Pro";--fa-font-duotone:normal 900 1em/1 "Font Awesome 7 Duotone";--fa-font-duotone-regular:normal 400 1em/1 "Font Awesome 7 Duotone";--fa-font-duotone-light:normal 300 1em/1 "Font Awesome 7 Duotone";--fa-font-duotone-thin:normal 100 1em/1 "Font Awesome 7 Duotone";--fa-font-brands:normal 400 1em/1 "Font Awesome 7 Brands";--fa-font-sharp-solid:normal 900 1em/1 "Font Awesome 7 Sharp";--fa-font-sharp-regular:normal 400 1em/1 "Font Awesome 7 Sharp";--fa-font-sharp-light:normal 300 1em/1 "Font Awesome 7 Sharp";--fa-font-sharp-thin:normal 100 1em/1 "Font Awesome 7 Sharp";--fa-font-sharp-duotone-solid:normal 900 1em/1 "Font Awesome 7 Sharp Duotone";--fa-font-sharp-duotone-regular:normal 400 1em/1 "Font Awesome 7 Sharp Duotone";--fa-font-sharp-duotone-light:normal 300 1em/1 "Font Awesome 7 Sharp Duotone";--fa-font-sharp-duotone-thin:normal 100 1em/1 "Font Awesome 7 Sharp Duotone";--fa-font-slab-regular:normal 400 1em/1 "Font Awesome 7 Slab";--fa-font-slab-press-regular:normal 400 1em/1 "Font Awesome 7 Slab Press";--fa-font-whiteboard-semibold:normal 600 1em/1 "Font Awesome 7 Whiteboard";--fa-font-thumbprint-light:normal 300 1em/1 "Font Awesome 7 Thumbprint";--fa-font-notdog-solid:normal 900 1em/1 "Font Awesome 7 Notdog";--fa-font-notdog-duo-solid:normal 900 1em/1 "Font Awesome 7 Notdog Duo";--fa-font-etch-solid:normal 900 1em/1 "Font Awesome 7 Etch";--fa-font-graphite-thin:normal 100 1em/1 "Font Awesome 7 Graphite";--fa-font-jelly-regular:normal 400 1em/1 "Font Awesome 7 Jelly";--fa-font-jelly-fill-regular:normal 400 1em/1 "Font Awesome 7 Jelly Fill";--fa-font-jelly-duo-regular:normal 400 1em/1 "Font Awesome 7 Jelly Duo";--fa-font-chisel-regular:normal 400 1em/1 "Font Awesome 7 Chisel";--fa-font-utility-semibold:normal 600 1em/1 "Font Awesome 7 Utility";--fa-font-utility-duo-semibold:normal 600 1em/1 "Font Awesome 7 Utility Duo";--fa-font-utility-fill-semibold:normal 600 1em/1 "Font Awesome 7 Utility Fill"}.svg-inline--fa{box-sizing:content-box;display:var(--fa-display,inline-block);height:1em;overflow:visible;vertical-align:-.125em;width:var(--fa-width,1.25em)}.svg-inline--fa.fa-2xs{vertical-align:.1em}.svg-inline--fa.fa-xs{vertical-align:0}.svg-inline--fa.fa-sm{vertical-align:-.0714285714em}.svg-inline--fa.fa-lg{vertical-align:-.2em}.svg-inline--fa.fa-xl{vertical-align:-.25em}.svg-inline--fa.fa-2xl{vertical-align:-.3125em}.svg-inline--fa .fa-pull-start,.svg-inline--fa.fa-pull-left{float:inline-start;margin-inline-end:var(--fa-pull-margin,.3em)}.svg-inline--fa .fa-pull-end,.svg-inline--fa.fa-pull-right{float:inline-end;margin-inline-start:var(--fa-pull-margin,.3em)}.svg-inline--fa.fa-li{inset-block-start:.25em;inset-inline-start:calc(var(--fa-li-width, 2em)*-1);width:var(--fa-li-width,2em)}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:var(--fa-width,1.25em)}.fa-layers .svg-inline--fa{inset:0;margin:auto;position:absolute;transform-origin:center center}.fa-layers-text{left:50%;top:50%;transform:translate(-50%,-50%);transform-origin:center center}.fa-layers-counter{background-color:var(--fa-counter-background-color,#ff253a);border-radius:var(--fa-counter-border-radius,1em);box-sizing:border-box;color:var(--fa-inverse,#fff);line-height:var(--fa-counter-line-height,1);max-width:var(--fa-counter-max-width,5em);min-width:var(--fa-counter-min-width,1.5em);overflow:hidden;padding:var(--fa-counter-padding,.25em .5em);right:var(--fa-right,0);text-overflow:ellipsis;top:var(--fa-top,0);transform:scale(var(--fa-counter-scale,.25));transform-origin:top right}.fa-layers-bottom-right{bottom:var(--fa-bottom,0);right:var(--fa-right,0);top:auto;transform:scale(var(--fa-layers-scale,.25));transform-origin:bottom right}.fa-layers-bottom-left{bottom:var(--fa-bottom,0);left:var(--fa-left,0);right:auto;top:auto;transform:scale(var(--fa-layers-scale,.25));transform-origin:bottom left}.fa-layers-top-right{right:var(--fa-right,0);top:var(--fa-top,0);transform:scale(var(--fa-layers-scale,.25));transform-origin:top right}.fa-layers-top-left{left:var(--fa-left,0);right:auto;top:var(--fa-top,0);transform:scale(var(--fa-layers-scale,.25));transform-origin:top left}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-2xs{font-size:.625em;line-height:.1em;vertical-align:.225em}.fa-xs{font-size:.75em;line-height:.08333em;vertical-align:.125em}.fa-sm{font-size:.875em;line-height:.07143em;vertical-align:.05357em}.fa-lg{font-size:1.25em;line-height:.05em;vertical-align:-.075em}.fa-xl{font-size:1.5em;line-height:.04167em;vertical-align:-.125em}.fa-2xl{font-size:2em;line-height:.03125em;vertical-align:-.1875em}.fa-width-auto{--fa-width:auto}.fa-fw,.fa-width-fixed{--fa-width:1.25em}.fa-ul{list-style-type:none;margin-inline-start:var(--fa-li-margin,2.5em);padding-inline-start:0}.fa-ul>li{position:relative}.fa-li{inset-inline-start:calc(var(--fa-li-width, 2em)*-1);line-height:inherit;position:absolute;text-align:center;width:var(--fa-li-width,2em)}.fa-border{border-color:var(--fa-border-color,#eee);border-radius:var(--fa-border-radius,.1em);border-style:var(--fa-border-style,solid);border-width:var(--fa-border-width,.0625em);box-sizing:var(--fa-border-box-sizing,content-box);padding:var(--fa-border-padding,.1875em .25em)}.fa-pull-left,.fa-pull-start{float:inline-start;margin-inline-end:var(--fa-pull-margin,.3em)}.fa-pull-end,.fa-pull-right{float:inline-end;margin-inline-start:var(--fa-pull-margin,.3em)}.fa-beat{animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-beat;animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-bounce{animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-bounce;animation-timing-function:var(--fa-animation-timing,cubic-bezier(.28,.84,.42,1))}.fa-fade{animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-fade;animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-beat-fade,.fa-fade{animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s)}.fa-beat-fade{animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-beat-fade;animation-timing-function:var(--fa-animation-timing,cubic-bezier(.4,0,.6,1))}.fa-flip{animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-flip;animation-timing-function:var(--fa-animation-timing,ease-in-out)}.fa-shake{animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-shake;animation-timing-function:var(--fa-animation-timing,linear)}.fa-shake,.fa-spin{animation-delay:var(--fa-animation-delay,0s);animation-direction:var(--fa-animation-direction,normal)}.fa-spin{animation-duration:var(--fa-animation-duration,2s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-spin;animation-timing-function:var(--fa-animation-timing,linear)}.fa-spin-reverse{--fa-animation-direction:reverse}.fa-pulse,.fa-spin-pulse{animation-direction:var(--fa-animation-direction,normal);animation-duration:var(--fa-animation-duration,1s);animation-iteration-count:var(--fa-animation-iteration-count,infinite);animation-name:fa-spin;animation-timing-function:var(--fa-animation-timing,steps(8))}@media(prefers-reduced-motion:reduce){.fa-beat,.fa-beat-fade,.fa-bounce,.fa-fade,.fa-flip,.fa-pulse,.fa-shake,.fa-spin,.fa-spin-pulse{animation:none!important;transition:none!important}}@keyframes fa-beat{0%,90%{transform:scale(1)}45%{transform:scale(var(--fa-beat-scale,1.25))}}@keyframes fa-bounce{0%{transform:scale(1) translateY(0)}10%{transform:scale(var(--fa-bounce-start-scale-x,1.1),var(--fa-bounce-start-scale-y,.9)) translateY(0)}30%{transform:scale(var(--fa-bounce-jump-scale-x,.9),var(--fa-bounce-jump-scale-y,1.1)) translateY(var(--fa-bounce-height,-.5em))}50%{transform:scale(var(--fa-bounce-land-scale-x,1.05),var(--fa-bounce-land-scale-y,.95)) translateY(0)}57%{transform:scale(1) translateY(var(--fa-bounce-rebound,-.125em))}64%{transform:scale(1) translateY(0)}to{transform:scale(1) translateY(0)}}@keyframes fa-fade{50%{opacity:var(--fa-fade-opacity,.4)}}@keyframes fa-beat-fade{0%,to{opacity:var(--fa-beat-fade-opacity,.4);transform:scale(1)}50%{opacity:1;transform:scale(var(--fa-beat-fade-scale,1.125))}}@keyframes fa-flip{50%{transform:rotate3d(var(--fa-flip-x,0),var(--fa-flip-y,1),var(--fa-flip-z,0),var(--fa-flip-angle,-180deg))}}@keyframes fa-shake{0%{transform:rotate(-15deg)}4%{transform:rotate(15deg)}24%,8%{transform:rotate(-18deg)}12%,28%{transform:rotate(18deg)}16%{transform:rotate(-22deg)}20%{transform:rotate(22deg)}32%{transform:rotate(-12deg)}36%{transform:rotate(12deg)}40%,to{transform:rotate(0)}}@keyframes fa-spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.fa-rotate-90{transform:rotate(90deg)}.fa-rotate-180{transform:rotate(180deg)}.fa-rotate-270{transform:rotate(270deg)}.fa-flip-horizontal{transform:scaleX(-1)}.fa-flip-vertical{transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{transform:scale(-1)}.fa-rotate-by{transform:rotate(var(--fa-rotate-angle,0))}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor)}.svg-inline--fa .fa-secondary,.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.svg-inline--fa.fa-inverse{fill:var(--fa-inverse,#fff)}.fa-stack{display:inline-block;height:2em;line-height:2em;position:relative;vertical-align:middle;width:2.5em}.fa-inverse{color:var(--fa-inverse,#fff)}.svg-inline--fa.fa-stack-1x{--fa-width:1.25em;height:1em;width:var(--fa-width)}.svg-inline--fa.fa-stack-2x{--fa-width:2.5em;height:2em;width:var(--fa-width)}.fa-stack-1x,.fa-stack-2x{inset:0;margin:auto;position:absolute;z-index:var(--fa-stack-z-index,auto)}</style>
<style>*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]:where(:not([hidden=until-found])){display:none}.container{padding-left:1rem;padding-right:1rem;width:100%}@media(min-width:640px){.container{max-width:640px;padding-left:2rem;padding-right:2rem}}@media(min-width:768px){.container{max-width:768px}}@media(min-width:1024px){.container{max-width:1024px;padding-left:4rem;padding-right:4rem}}@media(min-width:1280px){.container{max-width:1280px;padding-left:5rem;padding-right:5rem}}.sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}.sticky{position:sticky}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-bottom:.25rem;margin-top:.25rem}.my-2{margin-bottom:.5rem;margin-top:.5rem}.my-4{margin-bottom:1rem;margin-top:1rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:.5rem}.mr-1{margin-right:.25rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.h-48{height:12rem}.h-auto{height:auto}.w-1\/3{width:33.333333%}.w-2\/3{width:66.666667%}.w-full{width:100%}.max-w-full{max-width:100%}.max-w-none{max-width:none}.max-w-sm{max-width:24rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.overflow-hidden{overflow:hidden}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-l-none{border-bottom-left-radius:0;border-top-left-radius:0}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-0{border-bottom-width:0}.border-l-0{border-left-width:0}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity,1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1))}.object-cover{-o-object-fit:cover;object-fit:cover}.p-4{padding:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.pb-16{padding-bottom:4rem}.pb-3{padding-bottom:.75rem}.pl-2{padding-left:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity,1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity,1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity,1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity,1))}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-300{transition-duration:.3s}.rendered-object a{margin-left:.25rem;margin-right:.25rem}.badge{background-color:rgb(156 163 175/var(--tw-bg-opacity,1));border-color:rgb(75 85 99/var(--tw-border-opacity,1));border-radius:.25rem;border-width:1px;display:inline-block;padding:1px .25rem}.badge,.badge.red{--tw-border-opacity:1;--tw-bg-opacity:1}.badge.red{background-color:rgb(248 113 113/var(--tw-bg-opacity,1));border-color:rgb(220 38 38/var(--tw-border-opacity,1))}.badge.blue{background-color:rgb(96 165 250/var(--tw-bg-opacity,1));border-color:rgb(37 99 235/var(--tw-border-opacity,1))}.badge.blue,.badge.green{--tw-border-opacity:1;--tw-bg-opacity:1}.badge.green{background-color:rgb(74 222 128/var(--tw-bg-opacity,1));border-color:rgb(22 163 74/var(--tw-border-opacity,1))}.badge.yellow{background-color:rgb(250 204 21/var(--tw-bg-opacity,1));border-color:rgb(202 138 4/var(--tw-border-opacity,1))}.badge.orange,.badge.yellow{--tw-border-opacity:1;--tw-bg-opacity:1}.badge.orange{background-color:rgb(251 146 60/var(--tw-bg-opacity,1));border-color:rgb(234 88 12/var(--tw-border-opacity,1))}.go-to-top{align-items:center;background-color:rgb(75 85 99/var(--tw-bg-opacity,1));border-radius:9999px;bottom:0;cursor:pointer;display:flex;justify-content:center;position:fixed;right:0;--tw-bg-opacity:.75;--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity,1));font-size:1.875rem;height:3rem;line-height:2.25rem;opacity:0;transition:visibility .3s,opacity .3s,right .3s,bottom .5s;visibility:hidden;width:3rem}.go-to-top.show{bottom:1rem;opacity:1;right:1rem;visibility:visible}.nav-item{display:block;font-weight:700;margin-left:0;margin-right:0;padding:.75rem;width:auto;--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-duration:.3s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.nav-item:hover{background-color:rgb(55 65 81/var(--tw-bg-opacity,1))}.nav-item.nuxt-link-active,.nav-item:hover{--tw-bg-opacity:1;--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity,1))}.nav-item.nuxt-link-active{background-color:rgb(75 85 99/var(--tw-bg-opacity,1))}.navbar{border-bottom-width:1px;border-style:solid;border-top-width:1px;display:block;display:flex;flex-direction:column;justify-content:center;text-align:center;width:100%;--tw-border-opacity:1;border-color:rgb(75 85 99/var(--tw-border-opacity,1))}@media(min-width:640px){.navbar{flex-direction:row}}.logo{color:#35495e;font-family:Courgette,cursive;font-size:5rem;line-height:1;text-shadow:0 0 transparent;transition:text-shadow .3s}.logo:hover{text-shadow:2px 2px 2px #a9c0d6}.article .title{font-size:2.25rem;font-weight:700;line-height:2.5rem;--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}.article .category{margin-left:.25rem;--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1));transition-duration:.3s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.article .category:hover{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}.article .time{margin-left:.25rem;--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1))}.article .more{border-radius:.25rem;display:inline-block;margin-top:.25rem;--tw-bg-opacity:1;background-color:rgb(75 85 99/var(--tw-bg-opacity,1));font-size:.875rem;font-weight:700;line-height:1.25rem;padding:.25rem .5rem;--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity,1))}.article .more:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55/var(--tw-bg-opacity,1))}.article .content{padding-bottom:.25rem;padding-top:.25rem}.article .content h1,.article .content h2,.article .content h3,.article .content h4,.article .content h5,.article .content h6{font-weight:700;margin-bottom:.25rem;margin-top:.75rem;--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity,1))}.article .content h1{font-size:1.875rem;line-height:2.25rem}.article .content h1,.article .content h2{border-bottom-width:1px;margin-bottom:.75rem;--tw-border-opacity:1;border-color:rgb(107 114 128/var(--tw-border-opacity,1))}.article .content h2{font-size:1.5rem;line-height:2rem}.article .content h3{border-bottom-width:1px;margin-bottom:.75rem;--tw-border-opacity:1;border-color:rgb(107 114 128/var(--tw-border-opacity,1));font-size:1.25rem;line-height:1.75rem}.article .content h4,.article .content h5{font-size:1.125rem;line-height:1.75rem}.article .content h6{font-size:1rem;line-height:1.5rem}.article .content a{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1))}.article .content table{table-layout:auto;width:100%}.article .content table th{padding:.5rem 1rem;--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity,1))}.article .content table tr td{border-width:1px;padding:.5rem 1rem}.article .content table tr:nth-child(2){--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity,1))}.article .content ul{list-style-position:inside;list-style-type:disc}.article .content ul ul{list-style-type:circle}.article .content ul ul ul{list-style-type:square}.article .content ul ul ul ul{list-style-type:disc}.article .content ol{list-style-position:inside;list-style-type:decimal}li>ol,li>ul{padding-left:1.5rem}.article .content ul.contains-task-list{list-style-type:none}.article .content blockquote{border-left-width:4px;--tw-border-opacity:1;border-color:rgb(59 130 246/var(--tw-border-opacity,1));padding:1rem}.article .content p>code{border-radius:.25rem;border-width:1px;--tw-border-opacity:1;border-color:rgb(75 85 99/var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity,1));padding:1px .25rem}.filename{border-top-left-radius:.25rem;border-top-right-radius:.25rem;display:block;--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity,1));padding-bottom:.25rem;padding-top:.25rem;text-align:center}.filename+pre[class*=language-]{border-top-left-radius:0;border-top-right-radius:0;margin-top:0}.article .mermaid{overflow-x:auto}pre[class*=language-]{border-radius:.25rem}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;display:block;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:3em}.line-numbers .line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers .line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}.tooltip{position:relative}.tooltip:before{border-color:transparent transparent rgba(0,0,0,.8);border-style:solid;border-width:0 .25rem .25rem;bottom:-.5rem;content:"";height:0;width:0}.tooltip:after,.tooltip:before{display:block;left:50%;opacity:0;position:absolute;transform:translate(-50%);transition:visibility .3s,opacity .3s;visibility:hidden;z-index:9999}.tooltip:after{background:#000c;border-radius:.5rem;bottom:-2rem;color:#fff;content:attr(title);font-size:1rem;padding:0 .5rem;white-space:pre}.tooltip:active:after,.tooltip:active:before,.tooltip:hover:after,.tooltip:hover:before{opacity:1;visibility:visible}.v-lazy-image{filter:blur(30px);transition:filter 1.3s}.v-lazy-image-loaded{filter:blur(0)}.hover\:text-blue-800:hover{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity,1))}.hover\:underline:hover{text-decoration-line:underline}@media(min-width:768px){.md\:flex{display:flex}}</style>
<style>@font-face{font-display:swap;font-family:Courgette;font-style:normal;font-weight:400;src:url(/_nuxt/Courgette-normal-400-latin-ext.RBZsowjP.woff2) format("woff2");unicode-range:u+0100-02ba,u+02bd-02c5,u+02c7-02cc,u+02ce-02d7,u+02dd-02ff,u+0304,u+0308,u+0329,u+1d00-1dbf,u+1e00-1e9f,u+1ef2-1eff,u+2020,u+20a0-20ab,u+20ad-20c0,u+2113,u+2c60-2c7f,u+a720-a7ff}@font-face{font-display:swap;font-family:Courgette;font-style:normal;font-weight:400;src:url(/_nuxt/Courgette-normal-400-latin.CMb2M8Nq.woff2) format("woff2");unicode-range:u+00??,u+0131,u+0152-0153,u+02bb-02bc,u+02c6,u+02da,u+02dc,u+0304,u+0308,u+0329,u+2000-206f,u+20ac,u+2122,u+2191,u+2193,u+2212,u+2215,u+feff,u+fffd}</style>
<style>.mermaid[data-v-1ae8c493]{margin-bottom:1rem;margin-top:1rem;overflow-x:auto}</style>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/server/home-lab/_payload.json?f49d9451-2986-433e-81b6-17bd156aa13b">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DyTXAwzu.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DoIioMT-.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BkHo-UrI.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/5OPfDhhl.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dlb5Kw5f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CSC4f86v.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BSZFgSs5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B8IaAclc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B9R5Pdxd.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CgToFZSe.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CemD5zK_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dsr1_VRh.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B10nX4kK.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cz4pwJ9A.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BAU9-cq9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CgNEoyKy.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CYQ9xrjx.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DPaFOnTC.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BkerUSDC.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CX2TDYNg.js">
<script type="module" src="/_nuxt/DyTXAwzu.js" crossorigin></script>
<meta name="author" content="Hans">
<meta name="description" content="我的自管伺服器的架構與解決辦法">
<meta property="og:title" content="我的 home lab | Hans' Blog">
<meta property="og:site_name" content="Hans' homepage">
<meta property="og:description" content="我的自管伺服器的架構與解決辦法">
<meta property="og:image" content="https://secure.gravatar.com/avatar/193b9e6372680df1f91d0eb25be4c192"></head><body><div id="__nuxt"><div class="container mx-auto"><header><div class="logo-area text-center pt-4 pb-3"><a href="/" class="logo">Hans</a></div><nav class="navbar"><a href="/" class="nav-item"> Home </a><a href="/blog/" class="nav-item"> Blog </a></nav></header><div class="pt-3 pb-16 px-5"><!--[--><div></div><article class="article prose max-w-none"><h2 class="title text-3xl font-bold">我的 home lab</h2><div class="flex items-center space-x-4 text-sm text-gray-600 my-4"><a href="/blog/server/" class="category hover:underline"><!----> Server</a><span class="time" title="Update date"><!----> 2022/01/01</span></div><hr class="my-4 border-gray-200"><div class="content"><h1 id="實體機架構"><!--[-->實體機架構<!--]--></h1><div class="mermaid" data-v-1ae8c493><!--[--><!--]--></div><h2 id="路由器"><a href="#路由器"><!--[-->路由器<!--]--></a></h2><p><!--[-->我採用了 RouterOS，因為可以使用相對低的成本做到專業路由器的設定。<!--]--></p><h2 id="儲存"><a href="#儲存"><!--[-->儲存<!--]--></a></h2><p><!--[-->在眾多專為儲存設計的作業系統中我最終採用 DIY 建置的方案。<!--]--></p><ul><!--[--><li><!--[-->Debian
<ul><!--[--><li><!--[-->XanMod kernel LTS<!--]--></li><li><!--[-->OpenZFS<!--]--></li><li><!--[-->iSCSI: LIO<!--]--></li><li><!--[-->Cockpit
<ul><!--[--><li><!--[--><a href="https://github.com/optimans/cockpit-zfs-manager" rel="nofollow"><!--[-->ZFS Manager<!--]--></a><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p><!--[-->原本是想選擇 FreeNAS，畢竟 iXsystems 在 FreeNAS 上做了不少優化。但 FreeBSD 的社群正在萎縮、維護速度趕不上 Linux。<!--]--></p><p><!--[-->使用 XanMod kernel 是因為在加上 performance profile 之後擁有更佳的性能。
而 iSCSI 採用 LIO 是因為它是執行在 kernel 內、支援各種協定，且它可以直接與 Proxmox VE 整合 (ZFS over iSCSI)。<!--]--></p><h3 id="openzfs"><a href="#openzfs"><!--[-->OpenZFS<!--]--></a></h3><p><!--[-->非常強大，支援快照、區塊壓縮、RAM cache (ARC)、SSD cache (L2ARC) 等功能，且自有的 zpool 管理方式非常方便。<!--]--></p><h3 id="cockpit"><a href="#cockpit"><!--[-->Cockpit<!--]--></a></h3><p><!--[-->近期社群非常活躍的 Web 管理介面專案，它可以很容易的安裝第三方插件。<!--]--></p><h2 id="vm"><a href="#vm"><!--[-->VM<!--]--></a></h2><p><!--[-->我選擇了 Proxmox VE，因為它是開源的而且有非常方便管理的 Web UI。
並且由於該主機是自組的、沒有辦法放那麼多硬碟，所以我把儲存分離出去，為了保障資料傳輸還設定了直連光纖。<!--]--></p><p><!--[-->所有的應用服務都是在這台上面開 LXC 或 VM 來解決。<!--]--></p><h2 id="分區管制"><a href="#分區管制"><!--[-->分區管制<!--]--></a></h2><h3 id="home-group"><a href="#home-group"><!--[-->Home group<!--]--></a></h3><p><!--[-->供給家裡使用，設定 DHCP 與 NAT 且獨立的網段。<!--]--></p><h3 id="server-group"><a href="#server-group"><!--[-->Server group<!--]--></a></h3><p><!--[-->供給伺服器使用，獨立的網段且有分區管制，僅 PVE 內。<!--]--></p><h1 id="應用層架構"><!--[-->應用層架構<!--]--></h1><div class="mermaid" data-v-1ae8c493><!--[--><!--]--></div><h2 id="bastion-host"><a href="#bastion-host"><!--[-->Bastion host<!--]--></a></h2><p><!--[-->採用類似雲端的管理方式，由 bastion host 統一對外。<!--]--></p><h3 id="envoy-proxy"><a href="#envoy-proxy"><!--[-->envoy proxy<!--]--></a></h3><p><!--[-->envoy proxy 是 CNCF 的一個專案，就是專門進行高效能代理服務用的伺服器。<!--]--></p><h4 id="modsecurity-filter"><a href="#modsecurity-filter"><!--[-->ModSecurity filter<!--]--></a></h4><p><!--[-->為了安全性，我在 HTTP 服務加上 ModSecurity filter 作為 WAF。<!--]--></p><p><!--[-->這個模組雖然有找到現成的，但似乎有段時間沒維護且留下了一些 TODO code，所以我花了時間整理了一下。envoy proxy 內部程式碼似乎沒有文件，於是我是一層一層追蹤來找到正確寫法的。<!--]--></p><h3 id="rdp-proxy"><a href="#rdp-proxy"><!--[-->RDP proxy<!--]--></a></h3><p><!--[-->我找到了 <a href="https://github.com/wallix/redemption" rel="nofollow"><!--[-->redemption<!--]--></a> 這個專案可以在 Linux 上建置統一對外用的 proxy，所以我選用這個並依他的 <code class=""><!--[-->passthrough.py<!--]--></code> 範本加寫了限制連線範圍的規則。<!--]--></p><h4 id="auto-ban"><a href="#auto-ban"><!--[-->auto ban<!--]--></a></h4><p><!--[-->在 <code class=""><!--[-->passthrough.py<!--]--></code> 這邊辨識連線目標為範圍外時會記錄下來，再透過 fail2ban 進行封鎖。<!--]--></p></div></article><!--]--></div><a class="go-to-top"><!----></a></div></div><div id="teleports"></div><script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1771108289008,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"material-theme-darker",highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"f49d9451-2986-433e-81b6-17bd156aa13b",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script>
<script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/blog/server/home-lab/_payload.json?f49d9451-2986-433e-81b6-17bd156aa13b">[{"state":1,"once":3,"_errors":4,"serverRendered":7,"path":8,"prerenderedAt":9},["Reactive",2],{},["Set"],["ShallowReactive",5],{"article-home-lab":6},null,true,"/blog/server/home-lab",1771108310341]</script></body></html>